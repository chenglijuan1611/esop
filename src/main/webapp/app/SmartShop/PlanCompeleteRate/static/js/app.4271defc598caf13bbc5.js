webpackJsonp([1],{"4cG8":function(t,e){},"8Z9+":function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=o("VU/8")({name:"App"},r,!1,function(t){o("8Z9+")},null,null).exports,s=o("/ocq"),n={name:"First",data:function(){return{url:"",intervalId:0,shopRate:{firstShopRate:0,secondShopRate:100,thirdShopRate:0},topData:{firstShop:{plan:1,actual:0},secondShop:{plan:0,actual:0},thirdShop:{plan:0,actual:0}}}},created:function(){var t=this;this.getNewData(),this.intervalId=setInterval(function(){t.getNewData()},6e5)},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{getNewData:function(){var t=this;this.url="http://"+window.location.host,console.log(this.url),this.$axios.get(this.url+"/dafeng_mes/bug1/workshopComplete").then(function(e){console.log(e);var o=e.data.varList;o?(o.reverse(),console.log("反转后的数据"),console.log(o),console.log("反转后的数据"),t.topData.firstShop.plan=parseInt(o[0].PLAN_AMOUNT),t.topData.firstShop.actual=parseInt(o[0].PRODUCT_AMOUNT),0==t.topData.firstShop.plan?t.shopRate.firstShopRate=0:t.shopRate.firstShopRate=100*parseInt(t.topData.firstShop.actual/t.topData.firstShop.plan).toFixed(2),t.topData.secondShop.plan=parseInt(o[1].PLAN_AMOUNT),t.topData.secondShop.actual=parseInt(o[1].PRODUCT_AMOUNT),0==t.topData.secondShop.plan?t.shopRate.secondShopRate=0:t.shopRate.secondShopRate=100*parseInt(t.topData.secondShop.actual/t.topData.secondShop.plan).toFixed(2),t.topData.thirdShop.plan=parseInt(o[2].PLAN_AMOUNT),t.topData.thirdShop.actual=parseInt(o[2].PRODUCT_AMOUNT),0==t.topData.thirdShop.plan?t.shopRate.thirdShopRate=0:t.shopRate.thirdShopRate=100*parseInt(t.topData.thirdShop.actual/t.topData.thirdShop.plan).toFixed(2)):(t.topData.firstShop.plan=0,t.topData.firstShop.actual=0,t.shopRate.firstShopRate=0,t.topData.secondShop.plan=0,t.topData.secondShop.actual=0,t.shopRate.secondShopRate=0,t.topData.thirdShop.plan=0,t.topData.thirdShop.actual=0,t.shopRate.thirdShopRate=0),t.drawLeftEcahrt(),t.drawFirstShop(),t.drawSecondShop(),t.drawThirdShop()})},drawLeftEcahrt:function(){var t=this.$echarts.init(document.getElementById("leftEchart")),e={title:{text:"当日计划完成情况",x:30,y:10,textStyle:{color:"#fff",fontSize:25}},grid:{x:50},legend:{x:320,y:10,textStyle:{color:"#fff"}},tooltip:{},dataset:{dimensions:["product","计划","实际"],source:[{product:"一车间","计划":this.topData.firstShop.plan,"实际":this.topData.firstShop.actual},{product:"二车间","计划":this.topData.secondShop.plan,"实际":this.topData.secondShop.actual},{product:"三车间","计划":this.topData.thirdShop.plan,"实际":this.topData.thirdShop.actual}]},xAxis:{type:"category",axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#fff"}},axisTick:{show:!1}},yAxis:{axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#fff"}},axisTick:{show:!1}},series:[{type:"bar",barWidth:25,itemStyle:{normal:{color:"#cf1322",label:{show:!0,position:"top",textStyle:{color:"#fff"}}}}},{type:"bar",barWidth:25,itemStyle:{normal:{color:"#fadb14",label:{show:!0,position:"top",textStyle:{color:"#fff"}}}}}]};t.setOption(e)},drawFirstShop:function(){var t=this.$echarts.init(document.getElementById("firstChart")),e={title:{text:"一车间",x:"center",y:10,textStyle:{color:"#fff",fontSize:25}},tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"工作进度",type:"gauge",startAngle:180,itemStyle:{color:"rgba(255,255,255,0.6)"},endAngle:0,center:["50%","90%"],radius:95,axisLine:{lineStyle:{color:[[.09,"lime"],[.82,"#1e90ff"],[1,"#ff4500"]],width:3,shadowColor:"#fff",shadowBlur:10}},axisTick:{splitNumber:5,length:12},axisLabel:{formatter:function(t){switch(t+""){case"10":return"低";case"50":return"";case"90":return"高";default:return""}},textStyle:{color:"#fff",fontSize:15,fontWeight:"bolder"}},pointer:{width:8,length:"80%",color:"rgba(255, 255, 255, 0.8)"},title:{show:!0,offsetCenter:[0,"-60%"],textStyle:{color:"#fff",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"red",width:80,height:30,offsetCenter:[0,-30],formatter:"{value}%",textStyle:{fontSize:25,color:"#fff"}},data:[{value:this.shopRate.firstShopRate,name:"按时完工率"}]}]};t.setOption(e)},drawSecondShop:function(){var t=this.$echarts.init(document.getElementById("secondChart")),e={title:{text:"二车间",x:"center",y:10,textStyle:{color:"#fff",fontSize:25}},tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"业务指标",type:"gauge",startAngle:180,itemStyle:{color:"rgba(255,255,255,0.6)"},endAngle:0,center:["50%","90%"],radius:95,axisLine:{lineStyle:{color:[[.09,"lime"],[.82,"#1e90ff"],[1,"#ff4500"]],width:3,shadowColor:"#fff",shadowBlur:10}},axisTick:{splitNumber:5,length:12},axisLabel:{formatter:function(t){switch(t+""){case"10":return"低";case"50":return"";case"90":return"高";default:return""}},textStyle:{color:"#fff",fontSize:15,fontWeight:"bolder"}},pointer:{width:8,length:"80%",color:"rgba(255, 255, 255, 0.8)"},title:{show:!0,offsetCenter:[0,"-60%"],textStyle:{color:"#fff",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"red",width:80,height:30,offsetCenter:[0,-30],formatter:"{value}%",textStyle:{fontSize:25,color:"#fff"}},data:[{value:this.shopRate.secondShopRate,name:"按时完工率"}]}]};t.setOption(e)},drawThirdShop:function(){var t=this.$echarts.init(document.getElementById("thirdChart")),e={title:{text:"三车间",x:"center",y:10,textStyle:{color:"#fff",fontSize:25}},tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"业务指标",type:"gauge",startAngle:180,itemStyle:{color:"rgba(255,255,255,0.6)"},endAngle:0,center:["50%","90%"],radius:95,axisLine:{lineStyle:{color:[[.09,"lime"],[.82,"#1e90ff"],[1,"#ff4500"]],width:3,shadowColor:"#fff",shadowBlur:10}},axisTick:{splitNumber:5,length:12},axisLabel:{formatter:function(t){switch(t+""){case"10":return"低";case"50":return"";case"90":return"高";default:return""}},textStyle:{color:"#fff",fontSize:15,fontWeight:"bolder"}},pointer:{width:8,length:"80%",color:"rgba(255, 255, 255, 0.8)"},title:{show:!0,offsetCenter:[0,"-60%"],textStyle:{color:"#fff",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"red",width:80,height:30,offsetCenter:[0,-30],formatter:"{value}%",textStyle:{fontSize:25,color:"#fff"}},data:[{value:this.shopRate.thirdShopRate,name:"按时完工率"}]}]};t.setOption(e)}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"first"},[e("div",{staticClass:"leftItem"},[e("div",{attrs:{id:"leftEchart"}})]),this._v(" "),e("div",{staticClass:"firstBottom"},[e("div",{staticClass:"firstShop"},[e("div",{attrs:{id:"firstChart"}})]),this._v(" "),e("div",{staticClass:"secondShop"},[e("div",{attrs:{id:"secondChart"}})]),this._v(" "),e("div",{staticClass:"thirdShop"},[e("div",{attrs:{id:"thirdChart"}})])])])}]};var h=o("VU/8")(n,l,!1,function(t){o("4cG8")},"data-v-6bee0846",null).exports;a.a.use(s.a);var p=new s.a({routes:[{path:"/",name:"First",component:h}],mode:"hash"}),f=o("XLwt"),c=o.n(f),d=o("mtWM"),u=o.n(d);a.a.config.productionTip=!1,a.a.prototype.$echarts=c.a,a.a.prototype.$axios=u.a,new a.a({el:"#app",router:p,components:{App:i},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.4271defc598caf13bbc5.js.map